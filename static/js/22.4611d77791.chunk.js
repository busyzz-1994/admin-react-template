(this["webpackJsonpreact-admin-template"]=this["webpackJsonpreact-admin-template"]||[]).push([[22],{459:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(0),r=function(e){var t=e.form,n=e.visible,r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=n}),[n]);var s=r.current;Object(a.useEffect)((function(){!n&&s&&t.resetFields()}),[n,t,s])},s=n(60),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useCallback)((function(e){c((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[]);return[r,i]}},627:function(e,t,n){e.exports={"form-container":"dynamic_form-container__3ZRE7"}},713:function(e,t,n){"use strict";n.r(t);var a=n(543),r=n(440),s=n.n(r),c=n(480),i=n(161),l=n(49),o=n(60),u=n(0),j=n(694),b=n(485),m=n(607),f=n(702),d=n(234),O=n(95),p=n(703),h=n(695),x=n(714),v=n(608),g=n(676),y=n(715),F=n(627),C=n.n(F),w=n(459),k=n(602),I=n(698),N=n(484),q=n(6),E=function(e){var t=e.visible,n=e.onCancel,a=j.a.useForm(),r=Object(o.a)(a,1)[0];Object(N.a)({form:r,visible:t});return Object(q.jsx)(k.a,{title:"Basic Drawer",visible:t,onOk:function(){r.submit()},onCancel:n,children:Object(q.jsxs)(j.a,{form:r,layout:"vertical",name:"userForm",children:[Object(q.jsx)(j.a.Item,{name:"name",label:"User Name",rules:[{required:!0}],children:Object(q.jsx)(f.a,{})}),Object(q.jsx)(j.a.Item,{name:"age",label:"User Age",rules:[{required:!0}],children:Object(q.jsx)(I.a,{})})]})})},V=["key","name","fieldKey"],z=j.a.useForm;t.default=function(){var e=z(),t=Object(o.a)(e,1)[0],n=Object(u.useState)(!1),r=Object(o.a)(n,2),F=r[0],k=r[1],I=function(){k(!0)};return Object(q.jsxs)("div",{children:[Object(q.jsx)(b.a,{message:"\u8868\u5355\u66f4\u591a API \u8bf7\u67e5\u770b\uff1ahttps://ant.design/components/form-cn",type:"info",showIcon:!0}),Object(q.jsxs)(j.a.Provider,{onFormFinish:function(e,t){var n=t.values,a=t.forms;if("userForm"===e){var r=a.basicForm,s=r.getFieldValue("users")||[];r.setFieldsValue({users:[].concat(Object(i.a)(s),[n])}),k(!1)}},children:[Object(q.jsxs)(j.a,Object(l.a)(Object(l.a)({onFinish:function(e){var n=Object(l.a)({users:t.getFieldValue("users")},e);console.log(n,"values")},form:t,className:C.a["form-container"],scrollToFirstError:!0,autoComplete:"off",name:"basicForm",initialValues:{names:[{first:"busyzz",last:"busyzz123@gmail.com"}],users:[{name:"bss",age:26}]}},w.a),{},{children:[Object(q.jsx)(j.a.List,{name:"names",rules:[{validator:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!(n.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("\u81f3\u5c11\u9700\u8981\u8f93\u5165\u4e00\u4e2a\u7528\u6237")));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}],children:function(e,t){var n=t.add,r=t.remove;return Object(q.jsxs)(q.Fragment,{children:[e.map((function(t){t.key;var n=t.name,s=t.fieldKey,c=Object(a.a)(t,V);return Object(q.jsx)(j.a.Item,{label:"\u8f93\u5165\u59d3\u540d",required:!0,children:Object(q.jsxs)(m.b,{align:"baseline",children:[Object(q.jsx)(j.a.Item,Object(l.a)(Object(l.a)({},c),{},{name:[n,"first"],fieldKey:[s,"first"],wrapperCol:{span:24},rules:[{required:!0,message:"Missing first name"}],style:{marginBottom:0},children:Object(q.jsx)(f.a,{placeholder:"First Name"})})),Object(q.jsx)(j.a.Item,Object(l.a)(Object(l.a)({},c),{},{name:[n,"last"],fieldKey:[s,"last"],wrapperCol:{span:24},rules:[{required:!0,message:"Missing last name"}],style:{marginBottom:0},children:Object(q.jsx)(f.a,{style:{width:"100%"},placeholder:"Last Name"})})),Object(q.jsx)(x.a,{onClick:function(){e.length>1?r(n):d.b.warn("\u81f3\u5c11\u8f93\u5165\u4e00\u6761\u6570\u636e")}})]})},s)})),Object(q.jsx)(j.a.Item,Object(l.a)(Object(l.a)({},w.b),{},{children:Object(q.jsx)(O.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(q.jsx)(v.a,{}),children:"Add field"})}))]})}}),Object(q.jsx)(j.a.Item,{label:"User List",shouldUpdate:function(e,t){return e.users!==t.users},children:function(e){var t=(0,e.getFieldValue)("users")||[];return Object(q.jsxs)(q.Fragment,{children:[t.length?Object(q.jsx)("div",{className:C.a.userContainer,children:t.map((function(e,t){return Object(q.jsxs)("div",{className:"user",children:[Object(q.jsx)(p.a,{style:{marginRight:10},icon:Object(q.jsx)(g.a,{})}),e.name," - ",e.age]},t)}))}):Object(q.jsxs)(h.a.Text,{className:"ant-form-text",type:"secondary",children:["( ",Object(q.jsx)(y.a,{})," No user yet. )"]}),Object(q.jsx)(O.a,{style:{marginTop:10},onClick:I,children:"\u6dfb\u52a0\u7528\u6237"})]})}}),Object(q.jsx)(j.a.Item,Object(l.a)(Object(l.a)({},w.b),{},{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]})),Object(q.jsx)(E,{visible:F,onCancel:function(){k(!1)}})]})]})}}}]);
//# sourceMappingURL=22.4611d77791.chunk.js.map